#user and default editor
DEFAULT_USER="jake"
export EDITOR="/usr/bin/vim"
export VISUAL="/usr/bin/gvim"
#export XDG_CONFIG_HOME:="$HOME/.config"

#vi mode with backspace
set -o vi
bindkey "^?" backward-delete-char #allow backspace to delete behind cursor

#Arch - export pacmatic pacman program
export pacman_program="pacaur"

#tmux
export TERM="xterm-256color" #fix so tmux colors, and vim colors all play nice
# tmux on start with zsh
if [ "$TMUX" = "" ]; then tmux; fi

#Miscellaneous functions
source $HOME/.zsh_aliases

#Set tmux title based on hostname
printf "\033k`hostname -s`\033\\"

#Go
#export GOPATH="$HOME/Code/Go"
#export PATH="$GOPATH/bin:$PATH"

#rbenv
export PATH="$HOME/.rbenv/bin:$PATH:/opt/andoid-sdk-tools"
eval "$(rbenv init -)"

# zgen
#
# load zgen
source "${HOME}/.dotfiles/zgen/zgen.zsh"

# check if there's no init script
if ! zgen saved; then
    echo "Creating a zgen save"

    zgen oh-my-zsh

    # plugins
    zgen oh-my-zsh plugins/command-not-found
    zgen oh-my-zsh plugins/git
    zgen oh-my-zsh plugins/pass
    zgen oh-my-zsh plugins/ruby
    zgen oh-my-zsh plugins/rails
    zgen oh-my-zsh plugins/z
    zgen oh-my-zsh plugins/rbenv
    zgen oh-my-zsh plugins/sudo
    zgen oh-my-zsh plugins/systemd
    zgen oh-my-zsh plugins/tmux
    zgen load zsh-users/zsh-syntax-highlighting

    # bulk load
    zgen loadall <<EOPLUGINS
        zsh-users/zsh-history-substring-search
EOPLUGINS
    # ^ can't indent this EOPLUGINS

    # completions
    zgen load zsh-users/zsh-completions src

    # theme
    zgen oh-my-zsh themes/clean

    # save all to init script
    zgen save
fi
