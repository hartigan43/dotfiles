#user and default editor
DEFAULT_USER="jake"
export EDITOR="/usr/bin/vim"
export VISUAL="/usr/bin/gvim"
export XDG_CONFIG_HOME="$HOME/.config"
export XDG_CACHE_HOME="$HOME/.cache"
#export PATH="$HOME/.rbenv/bin:$PATH"
export TERM="screen-256color" #fix so tmux colors, and vim colors all play nice

#vi mode with backspace
#set -o vi
bindkey -v
bindkey "^?" backward-delete-char #allow backspace to delete behind cursor

# tmux on start with zsh
if [ "$TMUX" = "" ]; then tmux; fi

#Miscellaneous functions
source $HOME/.zsh_aliases

# zgen
#
# load zgen
source "${HOME}/.zgen/zgen.zsh"

# check if there's no init script
if ! zgen saved; then
    echo "Creating a zgen save"

    zgen oh-my-zsh

    # plugins
    zgen oh-my-zsh plugins/command-not-found
    zgen oh-my-zsh plugins/colored-man-pages
    zgen oh-my-zsh plugins/git
#    zgen oh-my-zsh plugins/pass
#    zgen oh-my-zsh plugins/ruby
#    zgen oh-my-zsh plugins/rbenv
    zgen oh-my-zsh plugins/sudo
    zgen oh-my-zsh plugins/systemd
    zgen oh-my-zsh plugins/tmux
    zgen oh-my-zsh plugins/z
    zgen oh-my-zsh plugins/vi-mode
    zgen load zsh-users/zsh-syntax-highlighting

    # bulk load
    zgen loadall <<EOPLUGINS
        zsh-users/zsh-history-substring-search
EOPLUGINS
    # ^ can't indent this EOPLUGINS

    # completions
    zgen load zsh-users/zsh-completions src

    # theme
    zgen oh-my-zsh themes/clean

    # save all to init script
    zgen save
fi

#fzf
[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh
